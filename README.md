# 📖 AI 网文辅助创作系统 (AI Novel Writer)

基于 PyQt6 和大语言模型（支持兼容 OpenAI 接口的模型，如 DeepSeek）打造的桌面级网文辅助创作工具。本工具旨在通过结构化的大纲管理和高度自动化的 AI 生成，帮助创作者解决卡文烦恼，甚至实现“一键全自动挂机写书”。

## ✨ 核心功能


   **🌳 树状结构管理**：以可视化的左侧树状图管理整本小说的“卷”与“章”，支持右键快捷新建、重命名和删除。*🌍 结构化设定面板：提供全局故事梗概、核心人物设定（姓名、性别、性格、经历）、单卷主线、单章细纲的独立设定区域，确保 AI 写作时不偏离主线。

  **✍️实时流式输出与思考过程**：支持展示大模型（如 DeepSeek-Reasoner）的底层思考逻辑（Reasoning），正文内容实时流式渲染在界面上 。
  
  🤖 **全自动挂机模式 (Auto-Pilot)**：只需提供初步设定，系统将自动依次规划后续卷宗梗概、章节细纲，并逐章生成正文，直至全书完结。
  
  📚 **一键成书导出**：支持将所有生成的小说内容一键导出为 `.docx` (Word)、`.md` (Markdown)、`.txt` (纯文本) 或 `.pdf` 格式 。 💾 自动本地化存储：实时保存项目进度，正文自动以 `.docx` 格式保存在本地目录中，保护创作者心血 。


## 🛠️ 安装与运行

### 1. 环境准备

    确保您的电脑上已安装 Python 3.8 或更高版本。

### 2. 安装依赖

    pip install -r requirements.txt

# 🚀 使用指南

-------

### 第一步：配置大模型 API

1. 首次打开软件时，系统会提示您进行全局设置 。或者您可以点击顶部工具栏的 **“⚙️ 设置模型参数”** 。

2. 在设置中填入您的 **API Key**。

3. 默认配置为 DeepSeek 模型：
   
   * Base URL: `https://api.deepseek.com`
   
   * 模型名称: `deepseek-reasoner`
   
   * 您可以根据需要调整 `Temperature`（控制发散程度）和 `Max Tokens` 。

### 第二步：创建或打开项目

1. 在欢迎界面，点击 **“✨ 创建新小说”** 并选择一个本地文件夹作为小说的存储根目录 。

2. 您也可以在左侧列表双击过往的最近项目快速进入 。

### 第三步：完善设定（至关重要）

1. **全局设定**：在中间面板填写“全局故事梗概”，并点击“➕ 添加新人物”建立核心角色卡 。写完后点击“保存全局设定” 。

2. **卷与章管理**：在左侧树状图 **右键**，新建“卷” 。选中新建的卷，在右键菜单中新建“章” 。

3. 分别点击您新建的卷和章，在中间的文本框内填入“本卷梗概”和“本章细纲”，并保存 。

### 第四步：开始创作

* **单章手动生成**：在左侧树状图选中某一章，点击右侧的 **“🚀 根据设定撰写本章”** 。AI 将结合前文情境和本章细纲自动写出正文。

* **自动挂机模式**：如果您想让 AI 接管，点击顶部工具栏的 **“🤖 开启自动挂机”** 。AI 会自动消耗 Token，补全空白设定的卷章，并一路疯狂码字。

### 第五步：导出成书

完成创作后，点击顶部菜单栏的 **“📚 一键成书”**，选择您需要的格式（如 Word 或 PDF），即可将完整小说导出分享 。
⚠️ 注意事项

-------

* 删除卷/章时会同步删除本地的源文件，请谨慎操作（可在设置中开启/关闭“删除前二次确认”防误触） 。

* 挂机模式会消耗大量 API Token，请确保您的 API 账户余额充足 。


